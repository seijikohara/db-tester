---
layout: home

hero:
  name: "DB Tester"
  text: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯"
  tagline: ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ã¨æ¤œè¨¼ - JUnitãƒ»Spockãƒ»Kotestå¯¾å¿œ
  image:
    src: /favicon.svg
    alt: DB Tester
  actions:
    - theme: brand
      text: ã¯ã˜ã‚ã‚‹
      link: /ja/01-overview
    - theme: alt
      text: GitHubã§è¦‹ã‚‹
      link: https://github.com/seijikohara/db-tester
    - theme: alt
      text: Maven Central
      link: https://central.sonatype.com/artifact/io.github.seijikohara/db-tester-junit

features:
  - icon: ğŸ“
    title: å®£è¨€çš„ãªãƒ†ã‚¹ãƒˆ
    details: "@Preparationã¨@Expectationã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨æ¤œè¨¼ã‚’å®šç¾©ã§ãã¾ã™ã€‚"
    link: /ja/03-public-api
    linkText: APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’è¦‹ã‚‹
  - icon: ğŸ“
    title: è¨­å®šã‚ˆã‚Šè¦ç´„
    details: ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã¨ãƒ¡ã‚½ãƒƒãƒ‰åã«åŸºã¥ã„ãŸè‡ªå‹•ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆæ¤œå‡ºã€‚è¦ç´„ã«å¾“ã†ã ã‘ã§å‹•ä½œã—ã¾ã™ã€‚
    link: /ja/04-configuration
    linkText: è¦ç´„ã‚’å­¦ã¶
  - icon: ğŸ”§
    title: è¤‡æ•°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å¯¾å¿œ
    details: JUnit Jupiterã€Spockã€Kotestã‚’å®Œå…¨ã‚µãƒãƒ¼ãƒˆã€‚Spring Bootçµ±åˆã‚‚åˆ©ç”¨å¯èƒ½ã§ã™ã€‚
    link: /ja/07-test-frameworks
    linkText: ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çµ±åˆ
  - icon: ğŸ“Š
    title: æŸ”è»Ÿãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    details: CSVã¨TSVã‚’ã‚µãƒãƒ¼ãƒˆã€‚ã‚·ãƒŠãƒªã‚ªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šè¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã§ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å…±æœ‰ã§ãã¾ã™ã€‚
    link: /ja/05-data-formats
    linkText: ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚¬ã‚¤ãƒ‰
  - icon: ğŸ—„ï¸
    title: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
    details: CLEAN_INSERTã€INSERTã€UPDATEã€DELETEã€TRUNCATEãªã©ã‚’ã‚µãƒãƒ¼ãƒˆã€‚ãƒ†ãƒ¼ãƒ–ãƒ«é †åºã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚‚å¯èƒ½ã§ã™ã€‚
    link: /ja/06-database-operations
    linkText: æ“ä½œãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
  - icon: ğŸ”Œ
    title: æ‹¡å¼µå¯èƒ½ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
    details: ã‚«ã‚¹ã‚¿ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ€ãƒ¼ã€ã‚³ãƒ³ãƒ‘ãƒ¬ãƒ¼ã‚¿ã€æ“ä½œãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç”¨ã®ã‚µãƒ¼ãƒ“ã‚¹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆSPIï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚
    link: /ja/08-spi
    linkText: æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ
---

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

::: code-group

```kotlin [Gradle (Kotlin DSL)]
dependencies {
    // BOMã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
    testImplementation(platform("io.github.seijikohara:db-tester-bom:VERSION"))

    // JUnit
    testImplementation("io.github.seijikohara:db-tester-junit")

    // ã¾ãŸã¯ Spock
    testImplementation("io.github.seijikohara:db-tester-spock")

    // ã¾ãŸã¯ Kotest
    testImplementation("io.github.seijikohara:db-tester-kotest")
}
```

```groovy [Gradle (Groovy DSL)]
dependencies {
    // BOMã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
    testImplementation platform('io.github.seijikohara:db-tester-bom:VERSION')

    // JUnit
    testImplementation 'io.github.seijikohara:db-tester-junit'

    // ã¾ãŸã¯ Spock
    testImplementation 'io.github.seijikohara:db-tester-spock'

    // ã¾ãŸã¯ Kotest
    testImplementation 'io.github.seijikohara:db-tester-kotest'
}
```

```xml [Maven]
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>io.github.seijikohara</groupId>
            <artifactId>db-tester-bom</artifactId>
            <version>VERSION</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
    </dependencies>
</dependencyManagement>

<dependencies>
    <!-- JUnit -->
    <dependency>
        <groupId>io.github.seijikohara</groupId>
        <artifactId>db-tester-junit</artifactId>
        <scope>test</scope>
    </dependency>

    <!-- ã¾ãŸã¯ Spock -->
    <dependency>
        <groupId>io.github.seijikohara</groupId>
        <artifactId>db-tester-spock</artifactId>
        <scope>test</scope>
    </dependency>

    <!-- ã¾ãŸã¯ Kotest -->
    <dependency>
        <groupId>io.github.seijikohara</groupId>
        <artifactId>db-tester-kotest</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

:::

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```java
@ExtendWith(DatabaseTestExtension.class)
class UserRepositoryTest {

    @Preparation  // CSVã‹ã‚‰ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã‚€
    @Expectation  // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ã‚’æ¤œè¨¼
    @Test
    void shouldCreateUser() {
        // ãƒ†ã‚¹ãƒˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ã“ã“ã«è¨˜è¿°
        userRepository.create(new User("john", "john@example.com"));
    }
}
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/test/resources/
â””â”€â”€ com/example/UserRepositoryTest/
    â”œâ”€â”€ shouldCreateUser/
    â”‚   â””â”€â”€ users.csv           # æº–å‚™ãƒ‡ãƒ¼ã‚¿
    â””â”€â”€ shouldCreateUser/
        â””â”€â”€ expected/
            â””â”€â”€ users.csv       # æœŸå¾…ã•ã‚Œã‚‹çŠ¶æ…‹
```

### æ¤œè¨¼å‡ºåŠ›

æœŸå¾…å€¤ã®æ¤œè¨¼ãŒå¤±æ•—ã—ãŸå ´åˆã€DB Testerã¯è©³ç´°ãªYAMLå½¢å¼ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã™ï¼š

```yaml
Assertion failed: 2 differences in USERS
summary:
  status: FAILED
  total_differences: 2
tables:
  USERS:
    differences:
      - path: row_count
        expected: 3
        actual: 2
      - path: "row[0].EMAIL"
        expected: john@example.com
        actual: john@test.com
        column:
          type: VARCHAR(255)
          nullable: false
```

::: tip
å‡ºåŠ›ã¯æœ‰åŠ¹ãªYAMLã§ã‚ã‚Šã€CI/CDçµ±åˆã®ãŸã‚ã«æ¨™æº–çš„ãªYAMLãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§è§£æã§ãã¾ã™ã€‚
:::

è©³ç´°ã¯[ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](/ja/09-error-handling)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
